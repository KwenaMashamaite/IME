<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>IME - Infinite Motion Engine</title>
        <meta http-equiv="Content-Type" content="text/html;"/>
        <meta charset="utf-8"/>
        <!--<link rel='stylesheet' type='text/css' href="https://fonts.googleapis.com/css?family=Ubuntu:400,700,400italic"/>-->
        <link rel="stylesheet" type="text/css" href="doxygen.css" title="default" media="screen,print" />
        <script type="text/javascript" src="jquery.js"></script>
        <script type="text/javascript" src="dynsections.js"></script>
    </head>
    <body>
        <div id="banner-container">
            <div id="banner">
                <span id="ime">Documentation of IME 2.1.0</span>
            </div>
        </div>
        <div id="content">
<!-- Generated by Doxygen 1.8.20 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceime.html">ime</a></li><li class="navelem"><a class="el" href="classime_1_1_event_dispatcher.html">EventDispatcher</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classime_1_1_event_dispatcher-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ime::EventDispatcher Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A singleton class that creates a communication interface between separate parts of a program through event dispatching.  
 <a href="classime_1_1_event_dispatcher.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_event_dispatcher_8h_source.html">EventDispatcher.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:abb755918aa4c026a2c5257935a5c5e7b"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classime_1_1_event_dispatcher.html#abb755918aa4c026a2c5257935a5c5e7b">Ptr</a> = std::shared_ptr&lt; <a class="el" href="classime_1_1_event_dispatcher.html">EventDispatcher</a> &gt;</td></tr>
<tr class="memdesc:abb755918aa4c026a2c5257935a5c5e7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shared <a class="el" href="classime_1_1_event_dispatcher.html" title="A singleton class that creates a communication interface between separate parts of a program through ...">EventDispatcher</a> pointer.  <a href="classime_1_1_event_dispatcher.html#abb755918aa4c026a2c5257935a5c5e7b">More...</a><br /></td></tr>
<tr class="separator:abb755918aa4c026a2c5257935a5c5e7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a749e0eb183949c459b75d8796c2c3d7e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classime_1_1_event_dispatcher.html#a749e0eb183949c459b75d8796c2c3d7e">EventDispatcher</a> (const <a class="el" href="classime_1_1_event_dispatcher.html">EventDispatcher</a> &amp;)=delete</td></tr>
<tr class="memdesc:a749e0eb183949c459b75d8796c2c3d7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor.  <a href="classime_1_1_event_dispatcher.html#a749e0eb183949c459b75d8796c2c3d7e">More...</a><br /></td></tr>
<tr class="separator:a749e0eb183949c459b75d8796c2c3d7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf5dc5e2c0ca2d837839d239881c7219"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classime_1_1_event_dispatcher.html">EventDispatcher</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classime_1_1_event_dispatcher.html#aaf5dc5e2c0ca2d837839d239881c7219">operator=</a> (const <a class="el" href="classime_1_1_event_dispatcher.html">EventDispatcher</a> &amp;)=delete</td></tr>
<tr class="memdesc:aaf5dc5e2c0ca2d837839d239881c7219"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assignment operator.  <a href="classime_1_1_event_dispatcher.html#aaf5dc5e2c0ca2d837839d239881c7219">More...</a><br /></td></tr>
<tr class="separator:aaf5dc5e2c0ca2d837839d239881c7219"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58f38de02a4b19579aea1822a799e583"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:a58f38de02a4b19579aea1822a799e583"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classime_1_1_event_dispatcher.html#a58f38de02a4b19579aea1822a799e583">onEvent</a> (const std::string &amp;event, <a class="el" href="namespaceime.html#a3f45d9e0b4d574a5f97fb0a538bf7a1f">Callback</a>&lt; Args... &gt; callback)</td></tr>
<tr class="memdesc:a58f38de02a4b19579aea1822a799e583"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an event listener to an event.  <a href="classime_1_1_event_dispatcher.html#a58f38de02a4b19579aea1822a799e583">More...</a><br /></td></tr>
<tr class="separator:a58f38de02a4b19579aea1822a799e583"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd5c300573d29de2e146abdcae740cee"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:acd5c300573d29de2e146abdcae740cee"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classime_1_1_event_dispatcher.html#acd5c300573d29de2e146abdcae740cee">dispatchEvent</a> (const std::string &amp;event, Args &amp;&amp;...args)</td></tr>
<tr class="memdesc:acd5c300573d29de2e146abdcae740cee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fire an event.  <a href="classime_1_1_event_dispatcher.html#acd5c300573d29de2e146abdcae740cee">More...</a><br /></td></tr>
<tr class="separator:acd5c300573d29de2e146abdcae740cee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3447ef2815ec2eead8724da975667603"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classime_1_1_event_dispatcher.html#a3447ef2815ec2eead8724da975667603">removeEventListener</a> (const std::string &amp;event, int id)</td></tr>
<tr class="memdesc:a3447ef2815ec2eead8724da975667603"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove an event listener from an event.  <a href="classime_1_1_event_dispatcher.html#a3447ef2815ec2eead8724da975667603">More...</a><br /></td></tr>
<tr class="separator:a3447ef2815ec2eead8724da975667603"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:af956e3ecf39b45c9a1e1edf322c77f17"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classime_1_1_event_dispatcher.html#abb755918aa4c026a2c5257935a5c5e7b">EventDispatcher::Ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classime_1_1_event_dispatcher.html#af956e3ecf39b45c9a1e1edf322c77f17">instance</a> ()</td></tr>
<tr class="memdesc:af956e3ecf39b45c9a1e1edf322c77f17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get class instance.  <a href="classime_1_1_event_dispatcher.html#af956e3ecf39b45c9a1e1edf322c77f17">More...</a><br /></td></tr>
<tr class="separator:af956e3ecf39b45c9a1e1edf322c77f17"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A singleton class that creates a communication interface between separate parts of a program through event dispatching. </p>
<p>The global event emitter is available to anything class that needs it (class, function etc..).</p>
<p>Its responsibility is to decouple classes from one another. You can emit a signal and anyone listening for that signal will pick it up without knowing and caring where the signal came from. Here is a simple example:</p>
<div class="fragment"><div class="line"><span class="comment">// main.cpp</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// We subscribe to a loading event that will be dispatched by some scene</span></div>
<div class="line"><span class="comment">// we don&#39;t know or care about, we are just interested in knowing that</span></div>
<div class="line"><span class="comment">// resource loading is complete</span></div>
<div class="line"><a class="code" href="classime_1_1_event_dispatcher.html#af956e3ecf39b45c9a1e1edf322c77f17">EventDispatcher::instance</a>()-&gt;onEvent(<span class="stringliteral">&quot;loadingComplete&quot;</span>, Callback&lt;&gt;([&amp;engine] {</div>
<div class="line">   engine.popScene();                <span class="comment">// Remove the scene that emitted the event</span></div>
<div class="line">   engine.pushScene(gameplayScene);  <span class="comment">// Start the gameplay scene</span></div>
<div class="line">}));</div>
<div class="line"> </div>
<div class="line">engine.pushScene(loadingScene);</div>
<div class="line">engine.run();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// LoadingScene.cpp</span></div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line"><span class="comment">// The caller does not need to keep asking the loading scene if it has</span></div>
<div class="line"><span class="comment">// finished loading the game assets, the scene lets everyone whose is</span></div>
<div class="line"><span class="comment">// interested know when it is done without knowing and caring who they are</span></div>
<div class="line"> </div>
<div class="line">EventDispatcher::instance::dispatchEvent(<span class="stringliteral">&quot;loadingComplete&quot;</span>);</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>This classes instance is accessible from anywhere withing the program, however the instance is destroyed when the last pointer to it goes out of scope. This means that all event listeners that have been registered will be destroyed and a call to dispatchEvent will not do anything. Therefore there must be at least one pointer to the class instance that keeps it alive for as long as its being used. The <a class="el" href="classime_1_1_engine.html" title="Runs the main game loop.">Engine</a> keeps an instance alive for as long as it is running, therefore you should use the global dispatcher only when the engine is running or keep an instance alive yourself </dd></dl>

<p class="definition">Definition at line <a class="el" href="_event_dispatcher_8h_source.html#l00038">38</a> of file <a class="el" href="_event_dispatcher_8h_source.html">EventDispatcher.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="abb755918aa4c026a2c5257935a5c5e7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb755918aa4c026a2c5257935a5c5e7b">&#9670;&nbsp;</a></span>Ptr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classime_1_1_event_dispatcher.html#abb755918aa4c026a2c5257935a5c5e7b">ime::EventDispatcher::Ptr</a> =  std::shared_ptr&lt;<a class="el" href="classime_1_1_event_dispatcher.html">EventDispatcher</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shared <a class="el" href="classime_1_1_event_dispatcher.html" title="A singleton class that creates a communication interface between separate parts of a program through ...">EventDispatcher</a> pointer. </p>

<p class="definition">Definition at line <a class="el" href="_event_dispatcher_8h_source.html#l00040">40</a> of file <a class="el" href="_event_dispatcher_8h_source.html">EventDispatcher.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a749e0eb183949c459b75d8796c2c3d7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a749e0eb183949c459b75d8796c2c3d7e">&#9670;&nbsp;</a></span>EventDispatcher()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ime::EventDispatcher::EventDispatcher </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classime_1_1_event_dispatcher.html">EventDispatcher</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy constructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="acd5c300573d29de2e146abdcae740cee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd5c300573d29de2e146abdcae740cee">&#9670;&nbsp;</a></span>dispatchEvent()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void ime::EventDispatcher::dispatchEvent </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fire an event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>Name of the event to fire </td></tr>
    <tr><td class="paramname">args</td><td>Arguments to be passed to event listeners</td></tr>
  </table>
  </dd>
</dl>
<p>This function will invoke all event listeners of the specified event </p>

</div>
</div>
<a id="af956e3ecf39b45c9a1e1edf322c77f17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af956e3ecf39b45c9a1e1edf322c77f17">&#9670;&nbsp;</a></span>instance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classime_1_1_event_dispatcher.html#abb755918aa4c026a2c5257935a5c5e7b">EventDispatcher::Ptr</a> ime::EventDispatcher::instance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get class instance. </p>
<dl class="section return"><dt>Returns</dt><dd>Shared pointer to class instance </dd></dl>

</div>
</div>
<a id="a58f38de02a4b19579aea1822a799e583"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58f38de02a4b19579aea1822a799e583">&#9670;&nbsp;</a></span>onEvent()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int ime::EventDispatcher::onEvent </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceime.html#a3f45d9e0b4d574a5f97fb0a538bf7a1f">Callback</a>&lt; Args... &gt;&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an event listener to an event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td><a class="el" href="classime_1_1_event.html" title="Defines a system event and its parameters.">Event</a> to add an event listener to </td></tr>
    <tr><td class="paramname">callback</td><td>Function to execute when the event is fired </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The event listeners identification number </dd></dl>

</div>
</div>
<a id="aaf5dc5e2c0ca2d837839d239881c7219"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf5dc5e2c0ca2d837839d239881c7219">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classime_1_1_event_dispatcher.html">EventDispatcher</a>&amp; ime::EventDispatcher::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classime_1_1_event_dispatcher.html">EventDispatcher</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Assignment operator. </p>

</div>
</div>
<a id="a3447ef2815ec2eead8724da975667603"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3447ef2815ec2eead8724da975667603">&#9670;&nbsp;</a></span>removeEventListener()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ime::EventDispatcher::removeEventListener </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove an event listener from an event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td><a class="el" href="classime_1_1_event.html" title="Defines a system event and its parameters.">Event</a> to remove event listener from </td></tr>
    <tr><td class="paramname">id</td><td>Identification number of the event listener to be removed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the event listener was removed from the specified event or false if the specified event does not have an event listener with the specified id </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_event_dispatcher_8h_source.html">EventDispatcher.h</a></li>
</ul>
</div><!-- contents -->
<div class="ttc" id="aclassime_1_1_event_dispatcher_html_af956e3ecf39b45c9a1e1edf322c77f17"><div class="ttname"><a href="classime_1_1_event_dispatcher.html#af956e3ecf39b45c9a1e1edf322c77f17">ime::EventDispatcher::instance</a></div><div class="ttdeci">static EventDispatcher::Ptr instance()</div><div class="ttdoc">Get class instance.</div></div>
        </div>
        <div id="footer-container">
            <div id="footer">
                IME is licensed under the terms and conditions of the <a href="https://github.com/KwenaMashamaite/IME/blob/master/LICENSE">MIT license</a>.<br>
                Copyright &copy; 2020-2021 Kwena Mashamaite
            </div>
        </div>
    </body>
</html>
